#!/usr/bin/env python3
# This file is placed in the Public Domain.
#
# pylint: disable=W0212,C0116,R1732


"sed <txt1> <txt2>"


import os
import subprocess
import sys


os.environ["PATH"] += ":bin"


try:
    OLD, *NEW = sys.argv[1:]
except ValueError:
    print("sed <OLD> <NEW>")
    os._exit(0)


def popen(txt):
    proc = subprocess.Popen(
                            txt.split(),
                            stdin=sys.stdin,
                            stdout=sys.stdout,
                            stderr=sys.stderr,
                            close_fds=False
                           )
    proc.communicate()
    proc.wait()



popen(f"files . sed -s -u -i s/{OLD}/{NEW[0]}/")
